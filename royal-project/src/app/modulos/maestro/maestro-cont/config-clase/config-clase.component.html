<!--Clase-->
<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header bg-light text-center">
        Clase {{clase}}: {{nombreClase}}
      </div>
      <div class="example-container mat-elevation-z8 pl-5">
        <mat-tab-group mat-stretch-tabs [selectedIndex]="numPlantilla" (selectedIndexChange)="numPlantilla=($event)">
          <!-- Tab: Video y Texto -->
          <mat-tab label="Video y Texto">
            <div class="col-md-12">
              <mat-card>
                <mat-card-header class="justify-content-center">
                  <mat-card-title>
                    Video principal
                    <button mat-stroked-button (click)="recargarVideo()">Recargar Video</button>
                  </mat-card-title>
                </mat-card-header>
                <video oncontextmenu="return false" mat-card-image id='videoId' class='video-js' controls preload='auto' width='200' height='250'
                  [poster]='portada' controlsList="nodownload">
                </video>
                <mat-card-content>
                  <p class="text-center">
                    Este video será el video principal de la clase.
                  </p>
                </mat-card-content>
                <mat-card-actions>
                  <form [formGroup]="videoForm">
                    <div class="input-group">
                      <div class="input-group-prepend">
                        <span class="input-group-text">Subir Video</span>
                      </div>
                      <div class="custom-file">
                        <input type="file" class="custom-file-input" formControlName="video"
                          (change)="seleccionarVideo($event)">
                        <label class="custom-file-label" for="inputGroupFile01">{{mensajeVideo}}</label>
                      </div>
                    </div>
                    <mat-form-field appearance="outline" class="field-login">
                      <mat-label>Descripción:</mat-label>
                      <textarea matInput placeholder="Agrega la descripción de la clase" cdkTextareaAutosize
                        cdkAutosizeMinRows="5" cdkAutosizeMaxRows="15" formControlName="texto"></textarea>
                      <mat-error>
                        <span *ngIf="!videoForm.get('texto').valid && videoForm.get('texto').touched">Agrega
                          una descripción del curso.</span>
                      </mat-error>
                    </mat-form-field>
                    <button [disabled]="!videoForm.valid" mat-stroked-button (click)="subirVideo()">Guardar</button>
                    <mat-progress-bar *ngIf="!finalizadoVideo" mode="determinate" [value]="porcentajeVideo">
                    </mat-progress-bar>
                  </form>
                </mat-card-actions>
              </mat-card>
            </div>
          </mat-tab>
          <!-- Tab: Video y Texto -->

          <!-- Tab: Texto -->
          <mat-tab label="Texto">
            <div class="col-md-12">
              <mat-card>
                <mat-card-header class="justify-content-center">
                  <mat-card-title>Descripción de la clase</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                  <form [formGroup]="textoForm">
                    <mat-form-field appearance="outline" class="field-login">
                      <mat-label>Descripción:</mat-label>
                      <textarea matInput placeholder="Agrega la descripción de la clase" cdkTextareaAutosize
                        cdkAutosizeMinRows="10" cdkAutosizeMaxRows="15" formControlName="texto"></textarea>
                      <mat-error>
                        <span *ngIf="!textoForm.get('texto').valid && textoForm.get('texto').touched">Agrega
                          una descripción del curso.</span>
                      </mat-error>
                    </mat-form-field>
                    <button [disabled]="!textoForm.valid" mat-stroked-button (click)="subirTexto()">Guardar</button>
                  </form>
                </mat-card-content>
              </mat-card>
            </div>
          </mat-tab>
          <!-- Tab: Texto -->
        </mat-tab-group>
        <br>
        <div class="row">
          <div class="col-md-12">
            <div class="custom-control custom-switch">
              <input id="recursos" type="checkbox" [checked]="recursos" class="custom-control-input"
                [(ngModel)]="recursos">
              <label class="custom-control-label" for="recursos">Recursos</label>
            </div>
            <div class="row" *ngIf="recursos">
              <div class="col-md-4">
                <ul>
                  <li *ngFor="let recurso of listaRecursos; let i=index">
                    <a target="_blank" rel="noopener noreferrer"
                      [href]="recurso.urlRecurso">{{recurso.textoRecurso}}</a>
                    <button mat-button color="accent" (click)="editarRecurso(i)">Editar</button>
                  </li>
                </ul>
                <br>
                <button mat-button color="primary" (click)="addRecurso()">Agregar Nuevo</button>
              </div>
              <div class="col-md-8" *ngIf="mostrarFormRecurso">
                <form [formGroup]="recursosForm">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text">Subir Recurso</span>
                    </div>
                    <div class="custom-file">
                      <input type="file" class="custom-file-input" formControlName="urlRecurso"
                        (change)="seleccionarRecurso($event)">
                      <label class="custom-file-label" for="inputGroupFile01">{{mensajeRecurso}}</label>
                    </div>
                  </div>
                  <mat-form-field appearance="outline" class="field-login">
                    <mat-label>Nombre:</mat-label>
                    <input matInput placeholder="Ingresa el nombre del recurso:" required
                      formControlName="textoRecurso">
                    <mat-error>
                      <span
                        *ngIf="!recursosForm.get('textoRecurso').valid && recursosForm.get('textoRecurso').touched">Agrega
                        el nombre del recurso.</span>
                    </mat-error>
                  </mat-form-field>
                  <button [disabled]="!recursosForm.valid" mat-stroked-button (click)="subirRecurso()">Guardar</button>
                  <mat-progress-bar *ngIf="!finalizadoRecurso" mode="determinate" [value]="porcentajeRecurso">
                  </mat-progress-bar>
                </form>
              </div>
            </div>
          </div>
        </div>
        <br>
        <div class="row">
          <div class="col-md-12">
            <div class="custom-control custom-switch">
              <input id="tarea" type="checkbox" [checked]="tarea" class="custom-control-input" [(ngModel)]="tarea">
              <label class="custom-control-label" for="tarea">Tarea</label>
            </div>
            <div class="row" *ngIf="tarea">
              <div class="col-md-12">
                <form [formGroup]="tareaForm">
                  <mat-form-field appearance="outline" class="field-login">
                    <mat-label>Descripción:</mat-label>
                    <textarea matInput placeholder="Agrega la descripción de la tarea" cdkTextareaAutosize
                      cdkAutosizeMinRows="10" cdkAutosizeMaxRows="15" formControlName="instruccion"></textarea>
                    <mat-error>
                      <span *ngIf="!tareaForm.get('instruccion').valid && tareaForm.get('instruccion').touched">Agrega
                        una descripción de la tarea.</span>
                    </mat-error>
                  </mat-form-field>
                  <button [disabled]="!tareaForm.valid" mat-stroked-button (click)="subirTarea()">Guardar</button>
                </form>

              </div>
            </div>
          </div>
        </div>
        <button mat-button color="warn" [routerLink]="['../../../../']">Cancelar</button>
      </div>
    </div>
  </div>
</div>
<br>
<br>
<!--Clase-->